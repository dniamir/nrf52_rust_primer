{
  "version": "0.2.0",
  "configurations": [

    // Debug for Blinky (NRF52)
    {
      "name": "Debug blinky (NRF52)",
      "type": "probe-rs-debug",
      "request": "launch",
      "cwd": "${workspaceFolder}",
      "probe": "1366:1015",
      "chip": "nrf52840_xxAA",
      "flashingConfig": {
        "flashingEnabled": true,
        "resetAfterFlashing": true,
        // "haltAfterReset": true,
        "haltAfterReset": false,
      },
      "coreConfigs": [
        {
          "coreIndex": 0,
          "programBinary": "${workspaceFolder}/target/thumbv7em-none-eabihf/debug/blinky",
          "rttEnabled": true,
          "rttChannelFormats": [
            {
              "channelNumber": 0,
              "dataFormat": "Defmt",
              "showTimestamps": true
            }
          ]
        }
      ],
      "preLaunchTask": "Build blinky (NRF52)"
    },

    // Debug for blinky (STM32)
    {
      "name": "Debug blinky (STM32)",
      "type": "probe-rs-debug",
      "request": "launch",
      "cwd": "${workspaceFolder}",
      "probe": "1366:1015",
      "chip": "nrf52840_xxAA",
      "flashingConfig": {
        "flashingEnabled": true,
        "resetAfterFlashing": true,
        // "haltAfterReset": true,
        "haltAfterReset": false,
      },
      "coreConfigs": [
        {
          "coreIndex": 0,
          "programBinary": "${workspaceFolder}/target/thumbv7em-none-eabihf/debug/blinky",
          "rttEnabled": true,
          "rttChannelFormats": [
            {
              "channelNumber": 0,
              "dataFormat": "Defmt",
              "showTimestamps": true
            }
          ]
        }
      ],
      "preLaunchTask": "Build blinky (STM32)"
    },

    // Debug for i2c_scan
    {
      "name": "Debug i2c_scan (NRF52)",
      "type": "probe-rs-debug",
      "request": "launch",
      "cwd": "${workspaceFolder}",
      "probe": "1366:1015",
      "chip": "nrf52840_xxAA",
      "flashingConfig": {
        "flashingEnabled": true,
        "resetAfterFlashing": true,
        // "haltAfterReset": true,
        "haltAfterReset": false,
      },
      "coreConfigs": [
        {
          "coreIndex": 0,
          "programBinary": "${workspaceFolder}/target/thumbv7em-none-eabihf/debug/i2c_scan",
          "rttEnabled": true,
          "rttChannelFormats": [
            {
              "channelNumber": 0,
              "dataFormat": "Defmt",
              "showTimestamps": true
            }
          ]
        }
      ],
      "preLaunchTask": "Build i2c_scan (NRF52)"
    },

    // Debug for chip_read
    {
      "name": "Debug chip_read (NRF52)",
      "type": "probe-rs-debug",
      "request": "launch",
      "cwd": "${workspaceFolder}",
      "probe": "1366:1015",
      "chip": "nrf52840_xxAA",
      "flashingConfig": {
        "flashingEnabled": true,
        "resetAfterFlashing": true,
        // "haltAfterReset": true,
        "haltAfterReset": false,
      },
      "coreConfigs": [
        {
          "coreIndex": 0,
          "programBinary": "${workspaceFolder}/target/thumbv7em-none-eabihf/debug/chip_read",
          "rttEnabled": true,
          "rttChannelFormats": [
            {
              "channelNumber": 0,
              "dataFormat": "Defmt",
              "showTimestamps": true
            }
          ]
        }
      ],
      "preLaunchTask": "Build chip_read (NRF52)"
    },

  ]
}